---
import type { SocialLinkType, LinkType } from '@utils/Interfaces'
import Base from '@layouts/Base.astro'
import SocialLink from '@components/SocialLink.astro'
import Link from '@components/Link.astro'
import conf from '@config'
---

<Base siteName={conf.site.name} metadata={conf.metadata}>
  <div class="flex-block max-w-xl p-4 md:pd-4 mx-auto mt-4 dark:mt-20 md:mt-4">
    <div class="bg-white shadow overflow-hidden rounded-lg dark:bg-neutral-900">
      <div class="px-4 py-5 sm:px-6 flex flex-col items-center">
        <div class="rounded-full h-40 w-40 overflow-hidden">
          <img src={conf.content.avatar} alt={conf.metadata.title} class="dark:hidden" />
          <img
            src={conf.content.avatarDarkMode}
            alt={conf.metadata.title}
            class="hidden dark:block"
          />
        </div>
        <div class="text-center dark:text-center">
          <h1 class="text-xl leading-6 mt-4 font-bold text-gray-900 dark:text-neutral-50">
            <span class="dark:hidden">{conf.content.title}</span>
            <span class="hidden dark:block">{conf.content.titleDarkMode}</span>
          </h1>
          <!-- TODO: Si no existe o es vacío que no aparezca esta opción e igual para la bio -->
          <h2 class="text-sm leading-6 text-gray-500 mt-2 dark:text-neutral-300 dark:hidden">
            {conf.content.subtitle}
          </h2>
          <p
            class="mt-2 max-w-2xl text-sm leading-5 text-gray-500 dark:text-neutral-400 dark:hidden"
            set:html={conf.content.bio}
          />

          <p
            class="mt-3 max-w-2xl text-sm leading-5 text-gray-500 dark:text-neutral-400 hidden dark:block"
            set:html={conf.content.bioDarkMode}
          />
        </div>
      </div>
      <div class="border-t border-gray-200 dark:border-neutral-900">
        <div class="bg-gray-200 px-4 py-5 w-full flex justify-center dark:bg-neutral-800">
          <div class="mt-1 text-sm text-gray-900">
            <div class="mt-1 mb-1 space-x-4 flex justify-center">
              {
                conf.socialLinks.map((item: SocialLinkType) => (
                  <SocialLink
                    title={item?.title}
                    url={item?.url}
                    iconHoverColor={item?.iconHoverColor}
                    iconHoverColorDark={item?.iconHoverColorDark}
                    iconPack={item?.iconPack}
                    iconName={item?.iconName}
                  />
                ))
              }
            </div>
          </div>
        </div>

        {
          conf.links.map((item: LinkType) => (
            <Link
              title={item?.title}
              url={item?.url}
              icon={item?.icon}
              textColor={item?.textColor}
              textColorHover={item?.textColorHover}
              textColorHoverDark={item?.textColorHoverDark}
              isFirstElement={item?.isFirstElement}
            />
          ))
        }
        <!-- TODO: separar pack e icon como en SocialLink -->
      </div>
    </div>
  </div>
</Base>
